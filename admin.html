<!doctype html><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ironwood Admin</title>
<style>
:root{--bg:#0b0e11;--surface:#12161a;--muted:#8c98a4;--text:#eef2f6;--brand:#dc2626;--accent:#fca5a5}
*{box-sizing:border-box}html,body{margin:0;background:#0b0e11;color:#eef2f6;font-family:system-ui}
.container{width:min(1100px,92vw);margin-inline:auto}
.btn{display:inline-flex;gap:.6rem;align-items:center;background:#dc2626;color:#fff;padding:.6rem .9rem;border-radius:999px;font-weight:700;border:2px solid transparent}
.card{background:#12161a;border:1px solid #1a2128;border-radius:18px;padding:1rem}
.muted{color:#9aa7b3} input{width:100%;padding:.5rem .6rem;border-radius:10px;border:1px solid #27313a;background:#0f1419;color:#e7eef6}
</style>
<header style="border-bottom:1px solid #1a2128;background:#0b0e11cc;backdrop-filter:blur(8px)">
  <div class="container" style="display:flex;align-items:center;gap:.6rem;padding:.6rem 0">
    <a href="index.html" style="display:flex;gap:.6rem;align-items:center"><img src="assets/logo-ld-original.png" style="height:40px"><strong>Back to site</strong></a>
  </div>
</header>
<div class="container" style="padding:24px 0 60px">
  <div class="card"><h2>Branding (local)</h2>
    <div style="display:flex;gap:10px;flex-wrap:wrap"><input id="logo_site" placeholder="Site logo URL"><input id="logo_dump" placeholder="Dumpsters logo URL"></div>
    <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:8px">
      <input id="brand" type="color" value="#dc2626"><input id="accent" type="color" value="#fca5a5">
    </div>
    <div style="display:flex;gap:10px;align-items:center;margin-top:8px"><button id="saveTheme" class="btn">Save Branding</button><span id="msgTheme" class="muted"></span></div>
  </div>
</div>
<script>
async function saveJSON(path, obj){
  const payload = JSON.stringify(obj,null,2);
  try{
    const res = await fetch(path, {method:'PUT',headers:{'Content-Type':'application/json'},body:payload});
    if(!res.ok) throw new Error('PUT not supported on static host');
  }catch(e){
    // fallback: prompt user to download the file and replace it in their repo/bucket
    const blob = new Blob([payload], {type:'application/json'});
    const a = document.createElement('a'); a.href=URL.createObjectURL(blob); a.download=path; a.click();
  }
}
saveTheme.onclick = async ()=>{
  let cfg = await fetch('config.json').then(r=>r.ok?r.json():{}).catch(_=>({}));
  cfg.theme = {brand: brand.value, accent: accent.value};
  cfg.logos = cfg.logos||{};
  if(logo_site.value) cfg.logos.site = logo_site.value;
  if(logo_dump.value) cfg.logos.dumpsters = logo_dump.value;
  msgTheme.textContent='Saving...';
  await saveJSON('config.json', cfg);
  msgTheme.textContent='Saved! (If a file downloaded, replace config.json on your host/repo)';
};
</script>
